{% ckan_extends %}

{% block secondary_content %}
  {% resource 'ckanext-datesearch/moment.js' %}
  {% resource 'ckanext-datesearch/datepicker.css' %}
  {% resource 'ckanext-datesearch/bootstrap-datepicker.js' %}
  {% resource 'ckanext-datesearch/daterangepicker-module.js' %}

  {# This <section> is the date-range picker widget in the sidebar. #}
  <section class="module module-narrow module-shallow">
    <h2 class="module-heading">
      <i class="icon-medium icon-calendar"></i> {{ _('Publication Year') }}
      <a href="{{ h.remove_url_param(['ext_startdate', 'ext_enddate']) }}" class="action">{{ _('Clear') }}</a>
    </h2>
    <div class="module-content input-prepend input-daterange" data-module="daterange-query" id="datepicker">

      {% set publication_year = h.get_earliest_publication_year() %}

      <input type="text" class="input-mini" style="cursor:pointer;" name="start" id="start" data-module="daterangepicker-module" readonly="true"
	    data-module-earliest_publication_year= "{{ publication_year }}" />

      <span class="add-on" style="border:none;background-color:#ffffff;">&nbsp;&nbsp;to&nbsp;&nbsp;</span>

      <input type="text" class="input-mini" style="cursor:pointer;" name="end" id="end" data-module="daterangepicker-module" readonly="true"
	    data-module-earliest_publication_year= "{{ publication_year }}" />

    </div>
  </section>

  {{ super() }}
{% endblock %}
